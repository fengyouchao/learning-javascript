# 命令行介绍

对于一些初学者，可能不是很了解命令行这个软件。所以在这里我简单的讲解下

命令行的其他名字
* 命令行工具
* 终端或Terminal (MacOS/Linux)
* CMD (Windows) 
* CLI (Command Line Interface)

命令行是一个基于命令的(字符的)用户交互环境, 与之对应的是基于图形界面的用户交互环境(GUI)。前者通过命令行与用户交互，使用的人输入以字符构成的命令，系统通过显示字符方式展示执行命令的过程和结果。后者则使用的图形界面，我们使用的所有APP，电脑上的软件，只要有窗口，有按钮，这些就是基于图形界面的交互。

## 如何打开命令行

* 在Windows中通过<kbd>Windows</kbd>+<kbd>R</kbd>打开`运行`，输入`cmd`后点击确定
* 在MacOS中，可以直接在应用程序中搜索`终端`或`terminal`

## 命令行与图形用户界面的优劣对比

命令行相比图形用户界面的优势

* 出现早，早期的操作系统没有图形用户界面，都是通过命令行操作和使用
* 资源占用少，基于命令行的软件开发省掉图形开发的麻烦
* 方便远程控制，远程桌面传输的数据较多，远程命令行传输的数据量更少

命令行相比图形用户界面的劣势

* 基于字符的交互形式，没有图形界面通过鼠标点击方便
* 图形用户界面展示内容更丰富，用户体验更好

基于以上原因，普通人能够使用的软件都是基于图形用户界面的，而基于命令行的并没有被淘汰，它广泛用于服务器系统和嵌入式系统中。一般是软件工程师和运维工程师在使用。

## 命令行如何执行命令

命令行中输入的命令其实就是让命令行工具去运行一个可执行文件，这个可执行文件其实就是我们一般所说的软件

命令的内容格式为:
```
<命令> [参数]...
```
`<>`表示该位置的内容是必须的，`[]`表示该位置的内容是可能有，可能没有的，`...`表示前面的内容可以有多个，后面的参数是可以有多个的，每个参数至少使用一个空格分隔，多个空格不影响。参数其实跟具体的`<命令>`有关，跟命令行工具无关。

我们之前使用启动Node.js交互式环境的时候输入的`node`就是这里的`<命令>`，我们的`node`命令在没有参数的情况下就会进入Node.js交互式环境


## 命令行执行命令的几种状态

1. 执行命令后自动返回命令行

    比如我们使用`dir`或`ls -l`命令展示当前文件夹下的文件和文件价
    
    Windows中 
    
    ```
    dir
    ```
    
    MacOS / Linux中
    
    ```bash
    ls -l
    ```
    敲回车键执行后，命令行窗口会迅速打印出文件和文件夹等信息，命令行又回到命令输入状态，准备接受下一个命令

2. 执行命令后，进入该命令的交互式环境

	比如我们执行`node`命令，命令行并没有立即返回之前的命令行的交互环境，而是进入到了Node.js的交互环境，让我们可以输入Javascript代码并执行，只有当我们在Node.js交互式环境中执行`.exit`后才会退出Node.js的交互式环境，然后返回到命令行的交互式环境

    需要注意的是，执行命令后，命令内部提供的交互环境，跟命令行的交互环境毫无关系，所以不要在node或其他命令自己的交互环境里使用命令行的命令。也不要在命令行的交互环境里使用Nodejs中的JavaScript代码。这两种行为都会出现错误信息。
    

3. 执行命令后，该命令处于长期执行状态，并且不提供交互环境，直到用户强制关闭它或程序崩溃，才会返回到命令行的交互环境

## 如何判断是在命令行交互环境还是某个命令内部交互环境

1. 通过输入提示来判断

    比如在Windows中，一般会这么显示
    
    ```
    C:\Users\Administrator>
    ```
    
    可以看出提示内容的基本结构是`盘符:路径>`

    在MacOS中
    
    ```
    macbookAir:~ Desktop $
    ```
    
    它结构是`设备名:路径 $`

    当然，这个显示内容其实可以根据我们的配置来更改，有些更改命令行配置的，就不会按照以上格式显示输入提示

2. 通过命令行标题判断

    命令行窗口的顶部会显示当前状态，如果正在执行某个命令，则会显示命令相关信息。
    
    在Windows中，处于命令行交互环境时，标题一般会包含`cmd`，否则应该是有相关执行命令的信息。
    
    在MacOS/Linux中，处于命令行交互环境时，标题一般会包含`bash`，否则应该是有相关执行命令的信息。

## 如何终止正在执行的命令

我们执行`node`命令时，进入到了Node.js交互式环境，其实就是node这命令正在执行中，如果我们想要终止node的运行，可以在Node.js交互式环境中输入`.exit`退出。

那么其他正在执行的命令如何退出呢。其实有一个万能快捷键，那就是<kbd>Ctrl</kbd>+<kbd>D</kbd>，这个快捷键可以强制终止正在命令行中运行的命令，并返回到命令行交互环境。

在某些命令中可能此快捷键在第一次使用时并不会终止命令的执行，可以多次尝试按下此快捷键。

<kbd>Ctrl</kbd>+<kbd>D</kbd>和`.exit`的区别。

* <kbd>Ctrl</kbd>+<kbd>D</kbd>是命令行工具自带的功能，可作用于所有命令行上执行的命令。
* `.exit`是`node`命令内部命令，对于非Node.js交互中使用则无效。

[首页](../README.md)