# 第1节 环境搭建

本节主要讲解如何安装*Node.js*并编写第一个 JavaScript 程序。

## 安装Node.js

请根据你当前系统选择查看对应系统的安装教程。

### 在Window中安装

1. 前往[Nodejs官网](https://nodejs.org/zh-cn/)，下载对应的安装包， 当然你可以直接使用这里的node-10.16.3的[下载链接](https://nodejs.org/dist/v10.16.3/node-v10.16.3-x86.msi)。
2. 点击已下载的安装包进行安装，如果你不清楚安装过程的某些步骤的选项含义，请直接使用它的默认选项。


### 在macOS中安装


#### 使用Homebrew安装

如果您的Mac中已经安装了Homebrew，则可以直接使用Homebrew安装

```bash
brew install node
```

#### 使用macOS安装包

1. 在[Nodejs官网](https://nodejs.org/zh-cn/)下载MacOS的安装包， 当然你可以直接使用这里的node-10.16.3的[下载链接](https://nodejs.org/dist/v10.16.3/node-v10.16.3.pkg)。
2. 点击已下载的安装包进行安装，如果你不清楚安装过程的某些步骤的选项含义，请直接使用它的默认选项。


### 在Linux中安装

如果你在使用Linux操作系统，我相信你肯定知道或者有方法知道如何安装Node.js。


## 检查配置

打开命令行，输入以下命令查看node的版本，并按<kbd>↲ 回车</kbd>提交（以后在命令行中输入不在重复说明“按<kbd>↲ 回车</kbd>“，在没有特别说明的情况下，都是以 <kbd>↲ 回车</kbd> 结束 ”）：

```bash
node -v
```

如果配置正确且输入的命令无误，命令行会显示如下内容：

```
v10.16.3
```

然后输入以下命令查看npm版本号:

```bash
npm -v
```

如果配置正确且输入的命令无误，命令行会显示如下内容：

```
6.9.0
```

如果两个命令都输出版本号则表示安装配置成功，如果你的版本号跟上面的不一致，也是没问题的，因为你安装的node的版本可能跟本教程中的不一致。

## 编写一句 JavaScript 代码

1. 打开命令行，输入以下命令：

    ```bash
    node
    ```
    
    如果你的操作正确，命令工具应该会显示以下内容：
    
    ```
    >
    ```
    
    在命令行中，会出现一个`>`符号，后面会紧跟一个光标，表示可以进行输入。这时命令行已经进入到了 *Node.js* 的REPL。REPL简单的说，就是一个即时的代码编写和执行环境，你可以输入一行 JavaScript 代码，然后按<kbd>↲ 回车</kbd>提交，REPL就会马上执行你刚才的输入的 JavaScript 代码，执行完毕后，会立即显示`>`，表示你可以再次输入。
    

2. 写下第一句 JavaScript 代码, 通过 JavaScript 代码让命令行显示`Hello world`。
	
	在`>`后输入以下内容:

    ```javascript
    console.log("Hello world");
    ```
    
    如果操作正确，命令行中应该会展示以下内容
    
    ```
    Hello world
    undefined
    >
    ```
    
    如果你仔细观察，命令行中展示的`undefined`与`Hello world`颜色并不是一样的，其实就是暗示着两个东西是不同性质的。在Node REPL 中，每个`console.log`语句执行后，都会在输出内容下面显示`undefined`，其实这是`console.log`的返回值，这是Node REPL自带的功能，如果你无法理解那个`undefined`，就把它遗忘掉，目前，我们只需要关注`Hello world`。最后一个`>`仅仅是表示我们可以继续输入新的 JavaScript 代码了。
    
    在本教程以后的代码结果展示中，将不会提及`undefined`和`>`的存在，只会展示`console.log`的具体输出内容，例如：
    
    ```
    Hello world
    ```
	    
	`console.log`是我们学习到的第一句 JavaScript 语法，`console.log`用于在控制台中展示我们给定的内容，这里的”展示“，在计算机领域里，更常用”打印“这个词，在日常生活里，”打印“这个词给我们印象是打印到纸上，但是，在编程语言里，”打印“更多的是指在控制台中打印内容，也就是展示内容。在本教程后面的内容中，会更多的使用”打印“而不是”展示“这个词，当然也会使用“输出”这个词表示。以后本教程中提到的“打印”，在没有特别的说明情况下，都是指使用`console.log`。
	
	现在你可以尝试下使用`console.log`打印自己想要打印的内容，但是要注意哦，打印的内容需要使用双引号扩起来，下面，本教程也给出一些示例。
	
	打印 "编程会让你奔溃"
	
	```javascript
	console.log("编程会让你奔溃");
	```
	
	输出结果
	
	```
	编程会让你奔溃
	```
	
	打印 "现在放弃还来的及"

	```javascript
	console.log("现在放弃还来的及");
	```
	
	输出结果
	
	```
	现在放弃还来的及
	```
	
	如果想要内容换行呢，可以使用`\n`表示换行符
	
	```javascript
	console.log("锄禾日当午，\n汗滴禾下土。\n谁知盘中餐，\n粒粒艰辛苦。")
	```
	
	输出结果
	
	```
	锄禾日当午，
	汗滴禾下土。
	谁知盘中餐，
	粒粒艰辛苦。
	```

3. 退出Node REPL

	如果你现在想要放弃学习，想要关闭Node REPL，只需要在`>`后输入以下内容
	
    ```ˉ
    .exit
    ```
    
    执行后，你会发现命令行回到了命令行的交互环境，如果你反悔又想学习了，只需要重复第一步即可。

## 使用`node`命令运行js文件

在上面的内容中，我们体验了在Node REPL中编写并执行 JavaScript 代码。这里我们将会把代码直接写在一个名为`my_first_program.js`的文件中，这个以`.js`作为扩展名的文件，我们称之为JS文件或者JavaScript文件。

> 关于“文件扩展名”， 一般我们简称扩展名，简单讲，扩展名就是文件后缀名，以最后一个`.`开始。扩展名只是方便操作系统快速识别文件类型，关联可以读取或编辑该类型文件的软件。扩展名只是对外宣称自己的类型，但是影响不了文件的实际内容和实际类型。例如把一个`.txt`文件更改`.mp3`，一个文本文件不会因为扩展名改成了`.mp3`就变成了音乐文件，改变扩展名并不会改变文件的内容，就算使用播放器播放，也会提示无法播放。

### 准备工作

如果你使用的是*Windows*系统，请确保您的系统已关闭“隐藏文件扩展名”的功能。如果您已关闭“隐藏文件扩展名”，你看到文件会显示扩展名，例如文本文件名称会以`.txt`结尾，否则说明你的系统开启了“隐藏文件扩展名”。如何关闭“隐藏文件扩展名”功能，请查看此[链接](https://jingyan.baidu.com/article/5d368d1e31ed903f60c057c6.html)


### 开始

1. 打开文本编辑器，如果你的是*Windows*系统，则是“记事本”。

2. 在文本编辑器中输入以下内容

	```javascript
	console.log("Hello world");
	```
3. 将编辑好的内容保存到桌面，并命名为`my_first_program.js`。

	
4. 打开命令行

	使用`cd`命令将命令行的工作路径切换到桌面（如果你命令行工作路径已经切换到桌面，就无需此操作）
	
	```bash
	cd Desktop
	```
	
	这段命令的作用是让命令行切换到桌面，因为我们刚刚保存的JS文件就放在桌面。

5. 使用`node`命令执行JS文件

    ```bash
    node my_first_program.js
    ```
    
    如果操作正确，命令行工具应该会输出如下内容
    
    ```
    Hello world
    ```
    
    如何命令行打印出`Hello world`内容，这表示程序运行成功
    
    你会发现，这里并没有像node的REPL中出现`undefined`。因为前面已经说了显示`undefined`是REPL的功能，这里我们没有使用REPL，当然不会显示`undefined`。
    

## 总结

本小节，我们学习到了如何安装*Node.js*环境，并编写第一个 JavaScript 程序，我们使用两种方式运行 JavaScript 代码， 一个是使用Node REPL，一个是直接通过`node`命令执行js文件。那么这两种方式有什么不同的优势呢


### Node REPL

Node REPL 是一个可以即时交互的 JavaScript 代码执行环境，编写完一句，可以马上执行并看到效果，这个方式，很适合我们学习 JavaScript 的语法，练习编码，但是这并不适合我们实际开发，因为在REPL中的代码是一次性的，并没有保存起来，并且已经执行的代码，并不能再次修改，就好比我们人与人之间的交流方式，写信和直接对话，REPL就相当于直接对话，说的话，可以马上让对方听见，并很快得到对方的回复，但是我们说的话，并没有保存起来，也不能回到之前我们说话的情况，并修改说话内容。而通过Node执行js文件的方式，就好比写信，代码都保存在js文件中，我们可以随时修改代码内容，并且重复执行。

### Node执行js文件

前面已经提到，Node执行js文件，是我们实际开发使用的方式，所以代码都会保存在一个或多个js文件中，然后通过`node`命令执行这些js文件。




如果你对命令行不够熟悉，可以查看[附录1 命令行介绍](附录1-命令行介绍.md)


[首页](../README.md) [下一节](2-输出.md)